<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VoyageVerse</title>
  <link rel="icon" href="images/logo.svg" type="image/icon type">
  <link rel="stylesheet" href="./styles/nearby.css">
  <script src="https://cdn.tailwindcss.com"></script>


</head>

<body>
  <div class="head">
    <div class="logo">
      <a href="./services.html">
        <h1>VoyageVerse</h1>
      </a>
    </div>
    <!-- <div class="search">
            <input type="text" placeholder="Search destination">
            <button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"
                    fill="rgba(255,255,255,1)">
                    <path fill="none" d="M0 0h24v24H0z"></path>
                    <path
                        d="M11 2C15.968 2 20 6.032 20 11C20 15.968 15.968 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2ZM11 18C14.8675 18 18 14.8675 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18ZM19.4853 18.0711L22.3137 20.8995L20.8995 22.3137L18.0711 19.4853L19.4853 18.0711Z">
                    </path>
                </svg></button>
        </div> -->
    <nav>
      <a href="./social.html">
        <ul>
          <li>Socials</li>
        </ul>
      </a>
      <a href="./package.html">
        <ul>
          <li>Packages</li>
        </ul>
      </a>
      <a href="./index.html">
        <ul>
          <li>Sign Out</li>
        </ul>
      </a>
      <a href="#">
        <ul>
          <li id="Auth_Name"></li>
        </ul>
      </a>
      
    </nav>
  </div>
  <div class="main">
    <div class="title">
      <h2>Explore spots</h2>
      <h1>Try <span id="city">Nearest to you</span></h1>
    </div>
    <section class="text-gray-600 body-font relative" id="main_bg">
      <div class="container px-5 py-24 mx-auto flex sm:flex-nowrap flex-wrap">
        
        <div class="lg:w-1/3 py-24 px-6 md:w-1/2 bg-white flex flex-col md:ml-auto w-full md:py-24 px-6 mt-8 md:mt-0">
          <h2 class="text-gray-900 text-lg mb-1 font-medium title-font">Enter Location</h2>
          <p class="leading-relaxed mb-5 text-gray-600">Just enter location name to know about nearby places to explore
            !</p>
          <div class="relative mb-4">
            <label for="location" class="leading-7 text-sm text-gray-600">Location</label>
            <input type="text" id="autocomplete" name="location" placeholder="Enter Your Place"
              class="w-full bg-white rounded border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
          </div>
          <div class="relative mb-4">
            <label for="type" class="leading-7 text-sm text-gray-600">Type </label>
            <select name="type" id="type" style="border: 0.8px solid black;border-radius: 4px;">
              <option value="" id="blank"></option>
              <option value="" id="tourist_destinations">Tourist Destinations</option>
            </select>
            <!-- <input type="text" id="type" name="type" class="w-full bg-white rounded border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"> -->
          </div>

          <!-- <button class="text-white bg-purple-500 border-0 py-2 px-6 focus:outline-none hover:bg-purple-600 rounded text-lg">Search</button> -->
        </div>
        <table class="table" id="places"></table>
      </div>
      <br><br><br>
    </section>
    <div id="mapping">

    </div>
    <section class="text-gray-600 body-font" style="height: max-content;">
      <div class="container px-5 mx-auto" style="height: max-content; overflow: hidden;">
        <div class="flex flex-wrap -m-4">
          <div class="p-4 lg:w-full md:w-full inline-block">
            <div class="flex border-2 rounded-lg border-gray-200 border-opacity-50 p-8 sm:flex-row flex-col">
              <div
                class="w-16 h-16 sm:mr-8 sm:mb-0 mb-4 inline-flex items-center justify-center rounded-full bg-indigo-100 text-indigo-500 flex-shrink-0">
                <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  class="w-8 h-8" viewBox="0 0 24 24">
                  <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                </svg>
              </div>
              <div class="flex-grow">
                <h2 class="text-gray-900 text-lg title-font font-medium mb-3" id="place1">Place</h2>
                <p class="leading-relaxed text-base" id="add1">Blue bottle crucifix vinyl post-ironic four dollar toast
                  vegan
                  taxidermy. Gastropub indxgo juice poutine.</p>
                <p class="leading-relaxed text-base" id="city1">City</p>
                <p class="leading-relaxed text-base" id="state1">State</p>
              </div>
            </div>
          </div>
        </div>
        <div class="flex flex-wrap -m-4">
          <div class="p-4 lg:w-full md:w-full">
            <div class="flex border-2 rounded-lg border-gray-200 border-opacity-50 p-8 sm:flex-row flex-col">
              <div
                class="w-16 h-16 sm:mr-8 sm:mb-0 mb-4 inline-flex items-center justify-center rounded-full bg-indigo-100 text-indigo-500 flex-shrink-0">
                <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  class="w-8 h-8" viewBox="0 0 24 24">
                  <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                </svg>
              </div>
              <div class="flex-grow">
                <h2 class="text-gray-900 text-lg title-font font-medium mb-3" id="place2">Place</h2>
                <p class="leading-relaxed text-base" id="add2">Blue bottle crucifix vinyl post-ironic four dollar toast
                  vegan
                  taxidermy. Gastropub indxgo juice poutine.</p>
                <p class="leading-relaxed text-base" id="city2">City</p>
                <p class="leading-relaxed text-base" id="state2">State</p>
              </div>
            </div>
          </div>
        </div>
        <div class="flex flex-wrap -m-4">
          <div class="p-4 lg:w-full md:w-full">
            <div class="flex border-2 rounded-lg border-gray-200 border-opacity-50 p-8 sm:flex-row flex-col">
              <div
                class="w-16 h-16 sm:mr-8 sm:mb-0 mb-4 inline-flex items-center justify-center rounded-full bg-indigo-100 text-indigo-500 flex-shrink-0">
                <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  class="w-8 h-8" viewBox="0 0 24 24">
                  <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                </svg>
              </div>
              <div class="flex-grow">
                <h2 class="text-gray-900 text-lg title-font font-medium mb-3" id="place3">Place</h2>
                <p class="leading-relaxed text-base" id="add3">Blue bottle crucifix vinyl post-ironic four dollar toast
                  vegan
                  taxidermy. Gastropub indxgo juice poutine.</p>
                <p class="leading-relaxed text-base" id="city3">City</p>
                <p class="leading-relaxed text-base" id="state3">State</p>
              </div>
            </div>
          </div>
        </div>
        <div class="flex flex-wrap -m-4">
          <div class="p-4 lg:w-full md:w-full">
            <div class="flex border-2 rounded-lg border-gray-200 border-opacity-50 p-8 sm:flex-row flex-col">
              <div
                class="w-16 h-16 sm:mr-8 sm:mb-0 mb-4 inline-flex items-center justify-center rounded-full bg-indigo-100 text-indigo-500 flex-shrink-0">
                <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  class="w-8 h-8" viewBox="0 0 24 24">
                  <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                </svg>
              </div>
              <div class="flex-grow">
                <h2 class="text-gray-900 text-lg title-font font-medium mb-3" id="place4">Place</h2>
                <p class="leading-relaxed text-base" id="add4">Blue bottle crucifix vinyl post-ironic four dollar toast
                  vegan
                  taxidermy. Gastropub indxgo juice poutine.</p>
                <p class="leading-relaxed text-base" id="city4">City</p>
                <p class="leading-relaxed text-base" id="state4">State</p>
              </div>
            </div>
          </div>
        </div>
      </div>

    </section>

  </div>
  <br><br><br>
  <div class="footer">
    <h3>Made with ‚ù§Ô∏è by a Traveller, for a Traveller</h3>
  </div>
</body>
<script>
  var a = localStorage.getItem("name");
  document.getElementById("Auth_Name").innerHTML = ("Hi üñê , " + a);
</script>

<script>
  const trigger = document.getElementById("type");

  async function placeSearch() {
    const place = document.getElementById("autocomplete").value;
    url = `https://api.positionstack.com/v1/forward?access_key=83e4fdc3ce9ef8bfde43c255516b0b0b&query=${place}`
    const response = await fetch(url)
    const rJSON = await response.json()
    const a = rJSON["data"][0]["latitude"]
    const b = rJSON["data"][0]["longitude"]
    alert("Wait while results are fetched......")
    // fetch(`https://api.geoapify.com/v2/places?categories=tourism.sights&conditions=wheelchair&bias=proximity:${b},${a}&limit=200&apiKey=59eeb73aec2b4e47b3a38c8602f60714`)
      .then(resp => resp.json())
      .then((places) => {
        const c = places["features"][0]["properties"]["name"]
        const c1 = places["features"][0]["properties"]["address_line2"]
        const c2 = places["features"][0]["properties"]["city"]
        const c3 = places["features"][0]["properties"]["state"]
        document.getElementById("place1").innerHTML = c;
        document.getElementById("add1").innerHTML = c1;
        document.getElementById("city1").innerHTML = c2;
        document.getElementById("state1").innerHTML = c3;


        const d = places["features"][1]["properties"]["name"]
        const d1 = places["features"][1]["properties"]["address_line2"]
        const d2 = places["features"][1]["properties"]["city"]
        const d3 = places["features"][1]["properties"]["state"]
        document.getElementById("place2").innerHTML = d;
        document.getElementById("add2").innerHTML = d1;
        document.getElementById("city2").innerHTML = d2;
        document.getElementById("state2").innerHTML = d3;

        const e = places["features"][2]["properties"]["name"]
        const e1 = places["features"][2]["properties"]["address_line2"]
        const e2 = places["features"][2]["properties"]["city"]
        const e3 = places["features"][2]["properties"]["state"]
        document.getElementById("place3").innerHTML = e;
        document.getElementById("add3").innerHTML = e1;
        document.getElementById("city3").innerHTML = e2;
        document.getElementById("state3").innerHTML = e3;

        const f = places["features"][3]["properties"]["name"]
        const f1 = places["features"][3]["properties"]["address_line2"]
        const f2 = places["features"][3]["properties"]["city"]
        const f3 = places["features"][3]["properties"]["state"]
        document.getElementById("place4").innerHTML = f;
        document.getElementById("add4").innerHTML = f1;
        document.getElementById("city4").innerHTML = f2;
        document.getElementById("state4").innerHTML = f3;

        alert("Search Complete")
      });

  }
  trigger.onchange = placeSearch;




</script>

</html>